{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./src/views/NpcView.vue?a720","webpack:///./src/components/NpcLegendaryActionForm.vue?db96","webpack:///src/components/NpcLegendaryActionForm.vue","webpack:///./src/components/NpcLegendaryActionForm.vue?a55d","webpack:///./src/components/NpcLegendaryActionForm.vue","webpack:///src/views/NpcView.vue","webpack:///./src/views/NpcView.vue?1755","webpack:///./src/views/NpcView.vue"],"names":["$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","join","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","call","this","undefined","render","_vm","_h","$createElement","_c","_self","attrs","selected_id","url","form","controls","on","onCancel","onSubmit","onRemove","scopedSlots","_u","key","fn","staticClass","_v","$event","show_legendary_body","proxy","liveForm","stopPropagation","preventDefault","_e","model","value","callback","$$v","tableFilter","expression","selectRandom","filters","claimed","$set","prep","etools","ref","axios","fields","onRowSelected","staticRenderFns","_g","_b","listeners","_t","legendary","component"],"mappings":"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","file":"js/npc.2e91eb62.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',[_c('b-col',{attrs:{\"xs\":\"12\",\"lg\":\"6\"}},[_c('b-card',{attrs:{\"no-body\":\"\",\"bg-variant\":\"light\"}},[_c('b-card-body',[_c('ZForm',{attrs:{\"id\":_vm.selected_id,\"axios\":{ url: 'npc' },\"blank-form\":_vm.form,\"controls\":_vm.controls},on:{\"cancel\":_vm.onCancel,\"submit\":_vm.onSubmit,\"remove\":_vm.onRemove}},[_c('b-card',{attrs:{\"no-body\":\"\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('span',[_c('span',{staticClass:\"float-left\"},[_vm._v(\"Legendary Actions\")]),_c('span',{staticClass:\"float-right\"},[_c('b-button',{attrs:{\"variant\":\"outline-dark\"},on:{\"click\":function($event){_vm.show_legendary_body = !_vm.show_legendary_body}}},[_c('b-icon-plus')],1)],1)])]},proxy:true}])},[(_vm.show_legendary_body)?_c('b-card-body',[_c('NpcLegendaryActionForm',{staticClass:\"text-left\",attrs:{\"live-form\":_vm.liveForm},on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return (function () {})($event)}}})],1):_vm._e()],1)],1)],1)],1)],1),_c('b-col',{attrs:{\"xs\":\"12\",\"lg\":\"6\"}},[_c('b-card',{attrs:{\"no-body\":\"\",\"bg-variant\":\"light\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('b-form-group',{staticClass:\"m-0 p-0\"},[_c('b-form-input',{model:{value:(_vm.tableFilter),callback:function ($$v) {_vm.tableFilter=$$v},expression:\"tableFilter\"}})],1),_c('b-form-group',{staticClass:\"m-0 p-0\"},[_c('b-button',{attrs:{\"block\":\"\"},on:{\"click\":function($event){return _vm.selectRandom()}}},[_vm._v(\"Random!\")])],1),_c('b-card',{staticClass:\"m-0 p-0 text-left\",attrs:{\"no-body\":\"\"}},[_c('b-card-body',{staticClass:\"m-0 p-0\"},[_c('Threebox',{attrs:{\"pressed\":_vm.filters.claimed},on:{\"update:pressed\":function($event){return _vm.$set(_vm.filters, \"claimed\", $event)}}},[_vm._v(\"Claimed\")]),_c('Threebox',{attrs:{\"pressed\":_vm.filters.prep},on:{\"update:pressed\":function($event){return _vm.$set(_vm.filters, \"prep\", $event)}}},[_vm._v(\"Prep\")]),_c('Threebox',{attrs:{\"pressed\":_vm.filters.etools},on:{\"update:pressed\":function($event){return _vm.$set(_vm.filters, \"etools\", $event)}}},[_vm._v(\"Etools\")]),_c('b-form-tags',{staticClass:\"mb-2\",attrs:{\"separator\":\" ,;\",\"no-add-on-enter\":\"\",\"remove-on-delete\":\"\",\"input-id\":\"view_form_tag\"},model:{value:(_vm.filters.tags),callback:function ($$v) {_vm.$set(_vm.filters, \"tags\", $$v)},expression:\"filters.tags\"}})],1)],1)]},proxy:true}])},[_c('b-card-body',[_c('ZTable',{ref:\"ztable\",attrs:{\"axios\":_vm.axios,\"fields\":_vm.fields,\"sticky-header\":\"750px\",\"filter\":_vm.tableFilter},on:{\"row-selected\":_vm.onRowSelected}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form',_vm._g(_vm._b({},'b-form',_vm.attrs,false),_vm.listeners),[_vm._t(\"default\"),_c('b-form-group',{staticClass:\"m-0\"},[_c('b-row',[_c('b-col',{attrs:{\"xs\":\"12\",\"lg\":\"8\"}},[_c('b-form-group',{attrs:{\"label\":\"Name\"}},[_c('b-form-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.liveForm.legendary.name),callback:function ($$v) {_vm.$set(_vm.liveForm.legendary, \"name\", $$v)},expression:\"liveForm.legendary.name\"}},[_vm._v(\"Name\")])],1)],1),_c('b-col',{attrs:{\"xs\":\"12\",\"lg\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":\"Cost\"},model:{value:(_vm.liveForm.legendary.cost),callback:function ($$v) {_vm.$set(_vm.liveForm.legendary, \"cost\", $$v)},expression:\"liveForm.legendary.cost\"}},[_c('b-form-input',{attrs:{\"type\":\"number\",\"step\":\"1\",\"min\":\"1\"}})],1)],1)],1)],1),_c('b-form-group',{staticClass:\"m-0\",attrs:{\"label\":\"Description\"}},[_c('b-form-textarea',{attrs:{\"rows\":\"3\"},model:{value:(_vm.liveForm.legendary.entry),callback:function ($$v) {_vm.$set(_vm.liveForm.legendary, \"entry\", $$v)},expression:\"liveForm.legendary.entry\"}})],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <b-form v-on=\"listeners\" v-bind=\"attrs\">\n        <slot></slot>\n        <b-form-group class=\"m-0\">\n            <b-row>\n                <b-col xs=\"12\" lg=\"8\">\n                    <b-form-group label=\"Name\">\n                        <b-form-input type=\"text\" v-model=\"liveForm.legendary.name\">Name</b-form-input>\n                    </b-form-group>\n                </b-col>\n                <b-col xs=\"12\" lg=\"4\">\n                    <b-form-group label=\"Cost\" v-model=\"liveForm.legendary.cost\">\n                        <b-form-input type=\"number\" step=\"1\" min=\"1\"></b-form-input>\n                    </b-form-group>\n                </b-col>\n            </b-row>\n        </b-form-group>\n\n        <b-form-group class=\"m-0\" label=\"Description\">\n            <b-form-textarea rows=\"3\" v-model=\"liveForm.legendary.entry\"></b-form-textarea>\n        </b-form-group>\n    </b-form>\n</template>\n\n<script>\nexport default {\n    name: 'NpcLegendaryActionForm',\n    props: {\n        liveForm: {\n            type: Object,\n            required: true,\n        },\n    },\n    watch: {\n        liveForm: {\n            immediate: true,\n            deep: true,\n            handler(val) {\n                console.log({ NpcLegendaryActionForm_liveForm: val })\n            },\n        },\n    },\n    data() {\n        return {}\n    },\n    computed: {\n        listeners() {\n            const { ...listeners } = this.$listeners\n            return listeners\n        },\n        attrs() {\n            const { ...attrs } = this.$attrs\n\n            return attrs\n        },\n    },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NpcLegendaryActionForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NpcLegendaryActionForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NpcLegendaryActionForm.vue?vue&type=template&id=6561e01c&\"\nimport script from \"./NpcLegendaryActionForm.vue?vue&type=script&lang=js&\"\nexport * from \"./NpcLegendaryActionForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <b-container fluid>\n        <b-row>\n            <b-col xs=\"12\" lg=\"6\">\n                <b-card no-body bg-variant=\"light\">\n                    <b-card-body>\n                        <ZForm\n                            :id=\"selected_id\"\n                            @cancel=\"onCancel\"\n                            @submit=\"onSubmit\"\n                            @remove=\"onRemove\"\n                            :axios=\"{ url: 'npc' }\"\n                            :blank-form=\"form\"\n                            :controls=\"controls\"\n                        >\n                            <b-card no-body>\n                                <template v-slot:header>\n                                    <span>\n                                        <span class=\"float-left\">Legendary Actions</span>\n                                        <span class=\"float-right\">\n                                            <b-button\n                                                @click=\"show_legendary_body = !show_legendary_body\"\n                                                variant=\"outline-dark\"\n                                            >\n                                                <b-icon-plus></b-icon-plus>\n                                            </b-button>\n                                        </span>\n                                    </span>\n                                </template>\n                                <b-card-body v-if=\"show_legendary_body\">\n                                    <NpcLegendaryActionForm\n                                        @submit.stop.prevent=\"() => {}\"\n                                        class=\"text-left\"\n                                        :live-form=\"liveForm\"\n                                    ></NpcLegendaryActionForm>\n                                </b-card-body>\n                            </b-card>\n                        </ZForm>\n                    </b-card-body>\n                </b-card>\n            </b-col>\n            <b-col xs=\"12\" lg=\"6\">\n                <b-card no-body bg-variant=\"light\">\n                    <template v-slot:header>\n                        <b-form-group class=\"m-0 p-0\">\n                            <b-form-input v-model=\"tableFilter\"></b-form-input>\n                        </b-form-group>\n                        <b-form-group class=\"m-0 p-0\">\n                            <b-button block @click=\"selectRandom()\">Random!</b-button>\n                        </b-form-group>\n                        <b-card no-body class=\"m-0 p-0 text-left\">\n                            <!-- <template v-slot:header>Filters</template> -->\n                            <b-card-body class=\"m-0 p-0\">\n                                <Threebox :pressed.sync=\"filters.claimed\">Claimed</Threebox>\n                                <Threebox :pressed.sync=\"filters.prep\">Prep</Threebox>\n                                <Threebox :pressed.sync=\"filters.etools\">Etools</Threebox>\n                                <b-form-tags\n                                    separator=\" ,;\"\n                                    no-add-on-enter\n                                    remove-on-delete\n                                    :input-id=\"`view_form_tag`\"\n                                    v-model=\"filters.tags\"\n                                    class=\"mb-2\"\n                                ></b-form-tags>\n                            </b-card-body>\n                        </b-card>\n                    </template>\n                    <b-card-body>\n                        <ZTable\n                            ref=\"ztable\"\n                            :axios=\"axios\"\n                            :fields=\"fields\"\n                            @row-selected=\"onRowSelected\"\n                            sticky-header=\"750px\"\n                            :filter=\"tableFilter\"\n                        ></ZTable>\n                    </b-card-body>\n                </b-card>\n            </b-col>\n        </b-row>\n    </b-container>\n</template>\n\n<script>\nimport NpcLegendaryActionForm from '@/components/NpcLegendaryActionForm.vue'\n\nexport default {\n    name: 'NpcView',\n    props: {\n        id: {\n            required: false,\n            default: undefined,\n        },\n    },\n    watch: {\n        id: {\n            immediate: true,\n            handler: function(val, old) {\n                console.log({ npcview: { id: { val, old } } })\n                this.selected_id = +val\n                return\n            },\n        },\n        filters: {\n            immediate: true,\n            deep: true,\n            handler(val) {\n                console.log({ npc_view_filters: val })\n                this.axios = {\n                    url: this.Url,\n                    method: 'get',\n                    data: {},\n                }\n                return\n            },\n        },\n        liveForm: {\n            immediate: true,\n            deep: true,\n            handler(val) {\n                console.log({ npc_view_liveForm: val })\n                return\n            },\n        },\n    },\n    data() {\n        return {\n            selected_id: undefined,\n            show_legendary_body: false,\n            axios: {\n                url: 'npc',\n                method: 'get',\n                data: {},\n            },\n            fields: [\n                { key: 'name', value: 'Name', sortable: true },\n\n                { key: 'tags', formatter: n => (n ? n.toString() : '') },\n                { key: 'claimed', sortable: true },\n            ],\n            tableFilter: '',\n            filters: {\n                claimed: null,\n                prep: null,\n                etools: null,\n                tags: [],\n            },\n            form: {\n                name: '',\n                claimed: false,\n                fluff: '',\n                description: '',\n                habitus: '',\n                quotes: '',\n                pronunciation: '',\n                prep: false,\n                tags: [],\n                etools: false,\n                etools_url: '',\n            },\n            liveForm: {\n                legendary: {\n                    name: '',\n                    description: '',\n                    cost: null,\n                },\n            },\n            controls: {\n                form_textarea: [\n                    { label: 'name' },\n                    { label: 'description', rows: 8 },\n                    // { label: 'habitus', rows: 3 },\n                    { label: 'legendary', rows: 4 },\n                ],\n                form_tags: [{ label: 'tags' }],\n                form_input: [\n                    { label: 'pronunciation', type: 'text' },\n                    { label: 'etools_url', type: 'url' },\n                ],\n                form_checkbox: [\n                    { label: 'prep' },\n                    { label: 'claimed' },\n                    { label: 'etools' },\n                ],\n            },\n        }\n    },\n    components: {\n        NpcLegendaryActionForm,\n    },\n    created() {\n        console.log('NpcView created')\n    },\n    mounted() {\n        document.title = 'Npc'\n    },\n    computed: {\n        Url() {\n            let { claimed, etools, prep, tags } = this.filters\n\n            let q = []\n\n            q.push(this.booleanQuerySlug(claimed))\n\n            if (etools !== null) {\n                q.push(`etools=${etools}`)\n            }\n            if (prep !== null) {\n                q.push(`prep=${prep}`)\n            }\n\n            q.push(...tags.map(tag => 'tags=' + tag))\n            console.log({ q })\n\n            return 'npc' + (q.length ? '?' + q.join('&') : '')\n        },\n    },\n    methods: {\n        onRowSelected({ row }) {\n            this.selected_id = row?.id\n        },\n        onCancel() {\n            this.selected_id = undefined\n        },\n        onSubmit() {\n            this.refreshList()\n        },\n        onRemove() {\n            this.refreshList()\n        },\n        refreshList() {\n            this.$refs.ztable.loadItems()\n        },\n        selectRandom() {\n            this.$refs.ztable.selectRandom()\n        },\n        booleanQuerySlug(val = null) {\n            let slug = ''\n            val = '' + val\n            console.log({ val })\n\n            if (val === 'true') {\n                slug = 'claimed=true'\n            } else if (['false'].includes(val)) {\n                slug = 'claimed=false'\n            }\n\n            console.log({ slug })\n            return slug\n        },\n    },\n}\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NpcView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NpcView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NpcView.vue?vue&type=template&id=c50fa070&\"\nimport script from \"./NpcView.vue?vue&type=script&lang=js&\"\nexport * from \"./NpcView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}